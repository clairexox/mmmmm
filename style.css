/* ==========================
   Spotify UI — Advanced Styles
   Separated CSS file (style.css)
   Heavy on glass, animations, responsiveness
   ========================== */

:root{
  --bg-900:#070707;
  --bg-800:#0f0f0f;
  --panel:rgba(255,255,255,0.03);
  --text:#ffffff;
  --muted:#9b9b9b;
  --accent:#1db954;
  --glass: rgba(255,255,255,0.04);
  --glass-strong: rgba(255,255,255,0.06);
  --card-radius:14px;
  --shadow-1: 0 6px 20px rgba(0,0,0,0.6);
}

/* ------------- base reset ------------- */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{background:linear-gradient(180deg,var(--bg-900) 0%, #0a0a0a 60%);color:var(--text);font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial;overflow:hidden}

a,button{font-family:inherit}

/* ------------- layout ------------- */
.app{display:flex;height:calc(100vh - 88px);min-height:520px}
.sidebar{width:260px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));padding:26px;display:flex;flex-direction:column;gap:16px;border-right:1px solid rgba(255,255,255,0.02)}
.content{flex:1;padding:28px;overflow:auto}
.now {
    width: 360px;
    padding: 22px;
    border-left: 1px solid rgba(255,255,255,0.02);
    position: relative;
    background: linear-gradient(180deg, rgba(0,0,0,0.03), transparent);

    /* ADD THESE TWO */
    overflow-y: auto;
    overflow-x: hidden;
}

.search-container {
    position: relative;
    width: 100%;
    margin-bottom: 15px;
}

#songSearch {
    width: 100%;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #444;
    background: #222;
    color: #fff;
    font-size: 14px;
}

.suggestions {
    position: absolute;
    top: 110%;
    left: 0;
    width: 100%;
    background: #111;
    border: 1px solid #333;
    border-radius: 8px;
    max-height: 200px;
    overflow-y: auto;
    display: none;
    z-index: 1000;
}

.suggestions div {
    padding: 8px 10px;
    cursor: pointer;
    color: #ddd;
}

.suggestions div:hover {
    background: #333;
}

/* search suggestion item layout */
.search-item{display:flex;align-items:center;gap:10px;padding:8px 10px;cursor:pointer;color:#ddd}
.search-item img{width:44px;height:44px;border-radius:8px;object-fit:cover;flex-shrink:0}
.search-item div{display:flex;flex-direction:column}
.search-item strong{font-size:14px}
.search-item p{font-size:13px;color:var(--muted);margin:0}


/* nice scrollbars */
.content::-webkit-scrollbar, .library-list::-webkit-scrollbar{height:10px;width:10px}
.content::-webkit-scrollbar-thumb, .library-list::-webkit-scrollbar-thumb{background:linear-gradient(180deg,#252525,#1a1a1a);border-radius:999px}

/* ------------- sidebar ------------- */
.logo{font-size:30px;text-align:center}
.nav{display:flex;flex-direction:column;gap:12px}
.nav .nav-item{color:var(--muted);text-decoration:none;font-weight:600;cursor:pointer;padding:6px 0}
.nav .nav-item:hover{color:var(--text)}

.library-title{font-weight:800;color:var(--text);font-size:16px;margin-top:6px}
.library-list{display:flex;flex-direction:column;gap:12px;overflow:auto;padding-right:6px}
.lib-card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:12px;border-radius:12px;cursor:pointer;transition:transform .18s ease,box-shadow .18s ease}
.lib-card:hover{transform:translateY(-6px);box-shadow:var(--shadow-1)}
.lib-card h4{font-size:15px}
.lib-card p{color:var(--muted);font-size:13px}

/* ------------- topbar & filters ------------- */
.topbar{display:flex;align-items:center;gap:18px;margin-bottom:22px}
.search{flex:1;background:#0f0f0f;padding:12px 16px;border-radius:999px;border:none;color:var(--muted);box-shadow:inset 0 1px 0 rgba(255,255,255,0.01)}
.filters{display:flex;gap:12px}
.filter{background:rgba(255,255,255,0.03);padding:8px 14px;border-radius:999px;cursor:pointer;font-weight:700;color:var(--muted)}
.filter:hover{background:rgba(255,255,255,0.05);color:var(--text)}

/* ------------- grid / cards ------------- */
.shelf-title{font-size:40px;font-weight:800;margin-bottom:12px}
.cards-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px}
.card{display:flex;align-items:center;gap:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:12px;border-radius:var(--card-radius);cursor:pointer;transition:transform .2s ease, box-shadow .2s ease, background .2s}
.card:hover{transform:translateY(-8px);box-shadow:0 22px 50px rgba(0,0,0,0.6)}
.card img{width:76px;height:76px;border-radius:10px;object-fit:cover;flex-shrink:0}
.card h4{font-size:17px}
.card p{color:var(--muted);font-size:13px}

/* small badge */
.card .badge{margin-left:auto;background:rgba(0,0,0,0.2);padding:6px 8px;border-radius:999px;color:var(--muted);font-weight:700}

/* ------------- now playing panel ------------- */
.now h2{font-size:22px;margin-bottom:12px}
.cover{width:100%;height:280px;border-radius:16px;background:#151515;background-size:cover;background-position:center;box-shadow:0 10px 30px rgba(0,0,0,0.6)}
.meta{margin-top:14px}
.meta h3{font-size:20px}
.meta p{color:var(--muted)}

/* lyrics */
.lyrics-box {
    margin-top: 16px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    padding: 18px;
    border-radius: 14px;

    height: 300px;          /* scrollable height */
    overflow-y: auto;
    overflow-x: hidden;

    position: relative;
    backdrop-filter: blur(14px);
    box-shadow: inset 0 0 18px rgba(0,0,0,0.3);
    scroll-behavior: smooth;
}

/* base lyric line: centered, large, dimmed when inactive */
.lyric-line{
  position:relative;
  font-size:20px;
  line-height:1.6;
  text-align:center;
  color:var(--muted);
  opacity:0.7;
  transition:color .22s ease,opacity .28s ease,transform .28s cubic-bezier(.2,.9,.2,1),font-size .22s ease;
}
.lyric-line + .lyric-line{margin-top:10px}

.fullscreen-lyrics {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    backdrop-filter: blur(20px);
    background: rgba(10, 10, 10, 0.8);
    padding: 40px;
    z-index: 5000;
    overflow-y: auto;
}

.no-scroll {
    overflow: hidden;
}

/* Custom scrollbars (smooth Spotify style) */
.lyrics-box::-webkit-scrollbar {
  width: 10px;
}

.lyrics-box::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg,#1db95480,#1db95420);
  border-radius: 999px;
}

.lyrics-box::-webkit-scrollbar-track {
  background: transparent;
}

.lyric-line.active {
  color: var(--accent);
  text-shadow: 0 0 14px rgba(29,185,84,0.4);
  transform: scale(1.04);
  transition: all .45s ease;
}

.lyric-line.active::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  height: 3px;
  bottom: -6px;
  background: linear-gradient(90deg,var(--accent),#45ff8b);
  border-radius: 999px;
  filter: blur(4px);
  animation: pulseWave 1.4s infinite ease-out;
}

@keyframes pulseWave {
  0% { opacity: 0.9; transform: scaleX(0.6); }
  70% { opacity: 0.15; transform: scaleX(1.4); }
  100% { opacity: 0; transform: scaleX(1.8); }
}

.card {
  transform-style: preserve-3d;
  perspective: 900px;
}

.card:hover {
  transform: rotateX(8deg) rotateY(-8deg) translateY(-10px);
}

.card:hover img {
  transform: translateZ(20px);
}

.cover,
.card img,
.mini {
  position: relative;
  overflow: hidden;
}

.cover::before,
.card img::before,
.mini::before {
  content: "";
  position: absolute;
  top: -100%;
  left: -120%;
  width: 260%;
  height: 260%;
  background: linear-gradient(120deg,
      transparent 30%,
      rgba(255,255,255,0.07) 50%,
      transparent 70%);
  transform: rotate(25deg);
  transition: all 0.8s ease;
}

.cover:hover::before,
.card:hover img::before,
.mini:hover::before {
  top: 100%;
  left: 100%;
}

.card {
  transition: transform .25s cubic-bezier(.21,1.02,.73,1);
}

.card:active {
  transform: scale(.97);
}


/* small animated gradient under lyrics */
.lyrics-box:before{content:'';position:absolute;inset:0;background:linear-gradient(90deg, rgba(29,185,84,0.06), rgba(120,200,255,0.02));pointer-events:none}

/* Fullscreen lyrics modal (Spotify-like) */
.lyrics-fullscreen-modal{position:fixed;inset:0;background:linear-gradient(180deg,rgba(2,6,10,0.96),rgba(4,4,6,0.96));z-index:12000;display:flex;align-items:center;justify-content:center;padding:28px}
.lyrics-fullscreen-modal .inner{width:100%;max-width:1400px;background:transparent;padding:28px;border-radius:8px;display:flex;gap:24px;align-items:flex-start}
.lyrics-fullscreen-modal .col-left{flex:1}
.lyrics-fullscreen-modal .col-right{width:420px}
.lyrics-fullscreen-modal .sweet-note{color:var(--text);font-size:20px;margin-bottom:12px;text-align:center}
.lyrics-fullscreen-modal .big-lyrics{background:transparent;height:72vh;overflow:auto;padding:40px 24px;border-radius:12px}
.lyrics-fullscreen-modal .big-lyrics .lyric-line{font-size:48px;opacity:0.55;color:var(--muted);transition:all .28s ease;text-align:center}
.lyrics-fullscreen-modal .big-lyrics .lyric-line.active{font-size:64px;opacity:1;color:var(--text);font-weight:700}
.lyrics-fullscreen-modal .close-btn{position:absolute;right:20px;top:20px;background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--text);padding:8px 10px;border-radius:8px;cursor:pointer}

/* compact romantic-action links */
.romantic-action{cursor:pointer;color:#fff;text-decoration:underline dotted rgba(255,255,255,0.12);transition:color .18s ease,transform .12s}
.romantic-action:hover{color:var(--accent);transform:translateY(-2px)}

/* modal overlay for tiny games */
.game-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:flex;align-items:center;justify-content:center;z-index:6000}
.game-box{width:320px;max-width:92vw;background:linear-gradient(180deg,#0b0b0b,#080808);padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);box-shadow:0 18px 40px rgba(0,0,0,0.6);color:var(--text)}
.game-box h3{margin-bottom:8px}
.game-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}
.game-actions button{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 10px;border-radius:8px;color:var(--text);cursor:pointer}

/* lyrics fullscreen fade */
.fullscreen-lyrics { opacity: 0; transform: translateY(6px); transition: opacity .28s ease, transform .28s ease; }
.lyrics-fullscreen-active .fullscreen-lyrics { opacity: 1; transform: translateY(0); }

/* mobile gamepad */
.gamepad{display:flex;gap:8px;justify-content:center;margin-top:10px}
.gamepad .btn{background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.06);padding:12px 16px;border-radius:10px;color:var(--text);font-weight:700;touch-action:manipulation}
.gamepad .btn:active{transform:translateY(1px)}

@media (max-width:600px){
  .game-box{width:94vw;padding:16px}
  .gamepad{gap:6px}
  .gamepad .btn{padding:14px 18px}
}


/* ------------- player bar ------------- */
.player{position:fixed;left:0;right:0;bottom:0;height:88px;background:linear-gradient(180deg, rgba(0,0,0,0.32), rgba(0,0,0,0.75));display:flex;align-items:center;justify-content:space-between;padding:12px 28px;border-top:1px solid rgba(255,255,255,0.03)}
.left{display:flex;gap:12px;align-items:center}
.mini{width:64px;height:64px;border-radius:10px;background:#191919;background-size:cover;background-position:center}
.titles .t{font-weight:800}
.titles .a{color:var(--muted);font-size:13px}

.controls{display:flex;align-items:center;gap:18px}
.controls button{background:none;border:none;color:var(--text);font-size:20px;cursor:pointer;border-radius:6px;padding:6px}
.controls button.play{background:linear-gradient(90deg,var(--accent),#78e57a);padding:8px 12px;font-weight:800;color:#081;transform:scale(1);transition:transform .12s}
.controls button.play:active{transform:scale(.96)}

.progress{display:flex;align-items:center;gap:12px;width:420px}
.time{color:var(--muted);font-size:13px}
.bar{flex:1;height:6px;background:#202020;border-radius:999px;overflow:hidden;cursor:pointer}
.bar-fill{width:0;height:100%;background:linear-gradient(90deg,var(--accent),#78e57a);transition:width .1s linear}

/* ------------- glass blobs ------------- */
#blobs{position:absolute;inset:0;pointer-events:none}
.blob{position:absolute;border-radius:40%;filter:blur(36px);opacity:.9;mix-blend-mode:screen}

/* ------------- micro interactions ------------- */
.card:active, .lib-card:active{transform:translateY(-3px) scale(.997)}

/* shiny hover on images */
.card img, .mini, .cover{position:relative}
.card img::after{content:'';position:absolute;inset:0;border-radius:10px;pointer-events:none}

/* ------------- animations ------------- */
@keyframes floatY{0%{transform:translateY(0)}50%{transform:translateY(-18px)}100%{transform:translateY(0)}}
@keyframes pulse{0%{opacity:.85}50%{opacity:.6}100%{opacity:.85}}

/* ------------- responsive ------------- */
@media (max-width:1100px){
  .now{display:none}
  .sidebar{display:none}
  .cards-grid{grid-template-columns:1fr}
  .app{height:calc(100vh - 64px)}
}
@media (max-width:600px){
  .player{height:64px;padding:8px}
  .progress{display:none}
  .shelf-title{font-size:28px}
}

/* ------------- theme (light toggle helper) ------------- */
body.light{--bg-900:#f6f6f6;--bg-800:#ffffff;--panel:rgba(0,0,0,0.03);--text:#0b0b0b;--muted:#6b6b6b}

/* ------------- utilities ------------- */
.hidden{display:none}
.center{display:flex;align-items:center;justify-content:center}

/* ------------- accessibility ------------- */
:focus{outline:2px solid rgba(29,185,84,0.15);outline-offset:2px}

#sidebar,
#homeContent,
#playlist-container,
#librarySection,
#topbar,
#header,
.navbar,
footer,
#now-playing-container,
.now-playing-panel,
#npWrapper,
#searchPage,
#homeContent,
#libraryContent {
    display: none !important;
}
/* FULLSCREEN LYRICS CONTAINER */
#lyricsModal,
#lyrics-panel,
#lyrics-container {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    padding: 0 !important;
    margin: 0 !important;
    background: transparent !important;
    z-index: 9999 !important;
}
/* LYRICS LIST FULLSCREEN + CENTERED */
#lyrics-list {
    width: 100%;
    height: 100%;
    max-height: none !important;
    overflow-y: hidden !important;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

#lyrics-list li {
    list-style: none;
    font-size: 2.4rem;
    margin: 8px 0;
    color: rgba(255, 255, 255, 0.45);
    font-weight: 500;
    transition: 0.25s ease;
    text-align: center;
    padding: 0 1rem;
}

/* ACTIVE LINE — MAKE IT SPOTIFY GLOW */
#lyrics-list li.active {
    color: #fff;
    font-weight: 800;
    text-shadow: 0 0 30px rgba(0, 255, 90, 0.8);
    transform: scale(1.03);
}
/* SPOTIFY BLURRED BACKGROUND */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    background: url("assets/covers/pee.jpg") center/cover no-repeat;
    filter: blur(25px) brightness(0.35) saturate(1.2);
    z-index: -1;
}
/* HIDE SCROLLBAR FOR CLEAN LOOK */
::-webkit-scrollbar {
    width: 0;
    height: 0;
}

